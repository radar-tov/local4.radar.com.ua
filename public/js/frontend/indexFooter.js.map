{"version":3,"sources":["indexFooter.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"indexFooter.js","sourcesContent":["$(document).ready(function () {\r\n    $(\".fancybox\").fancybox();\r\n    $(\".various\").fancybox({\r\n        maxWidth: 500,\r\n        maxHeight: 300,\r\n        fitToView: false,\r\n        width: \"70%\",\r\n        height: \"50%\",\r\n        autoSize: false,\r\n        closeClick: false,\r\n        openEffect: \"none\",\r\n        closeEffect: \"none\"\r\n    });\r\n    $(\".various1\").fancybox({\r\n        maxWidth: 500,\r\n        maxHeight: 800,\r\n        fitToView: false,\r\n        width: \"70%\",\r\n        height: \"90%\",\r\n        autoSize: false,\r\n        closeClick: false,\r\n        openEffect: \"none\",\r\n        closeEffect: \"none\"\r\n    });\r\n    setTimeout(function () {\r\n        var partner = document.getElementById(\"partner\");\r\n        partner.style.display = \"block\";\r\n    }, 1000);\r\n});\r\nvar disabled = $(\".disabled\").prop(\"disabled\", true);\r\n$(\"._disabled\").click(function () {\r\n    return false;\r\n});\r\nfunction printsite() {\r\n    if (navigator.platform == \"Win32\") {\r\n        window.print();\r\n    } else {\r\n        alert(\"print out this page by hitting command + p\");\r\n    }\r\n}\r\n$(\"body\").on(\"click\", \".buy\", function () {\r\n    var productId = $(this).attr(\"data-productid\"), token = $(\"#token\").val();\r\n    $.post(\"/add_to_cart\", {productId: productId, _token: token}).done(function (data) {\r\n        $(\"#_cart\").find(\".qty\").html(data.count);\r\n        $(\"#_cart\").find(\".qty-items\").html(data.count);\r\n        $(\"#_cart\").find(\"._sum\").html(data.total);\r\n        $(\".cart_empty\").hide();\r\n        $(\".cart_filled\").show();\r\n    });\r\n    $(this).val(\"В корзине\");\r\n    $(this).parents(\".item\").find(\".buy\").val(\"В корзине\");\r\n    setTimeout(function () {\r\n        $(\"#otvet\").click();\r\n    }, 1500);\r\n});\r\n$(\"body\").on(\"click\", \".buyKol\", function () {\r\n    var productId = $(this).attr(\"data-productid\"), qty = $(\"#colichestvo\").val(), token = $(\"#token\").val();\r\n    $.post(\"/addKol_to_cart\", {productId: productId, qty: qty, _token: token}).done(function (data) {\r\n        $(\"#_cart\").find(\".qty\").html(data.count);\r\n        $(\"#_cart\").find(\".qty-items\").html(data.count);\r\n        $(\"#_cart\").find(\"._sum\").html(data.total);\r\n        $(\".cart_empty\").hide();\r\n        $(\".cart_filled\").show();\r\n    });\r\n    $(this).val(\"В корзине\");\r\n    $(this).parents(\".item\").find(\".buy\").val(\"В корзине\");\r\n    setTimeout(function () {\r\n        $(\"#otvet\").click();\r\n    }, 1500);\r\n});\r\n$(\".buySet\").click(function () {\r\n    var stockId = $(this).attr(\"data-stockid\"), token = $(\"#token\").val();\r\n    $.post(\"/add_set_to_cart\", {stockId: stockId, _token: token}).done(function (data) {\r\n        $(\"#_cart\").find(\".qty\").html(data.count);\r\n        $(\"#_cart\").find(\".qty-items\").html(data.count);\r\n        $(\"#_cart\").find(\"._sum\").html(data.total);\r\n        $(\".cart_empty\").hide();\r\n        $(\".cart_filled\").show();\r\n    });\r\n    $(this).val(\"В корзине\");\r\n    $(this).parents(\".item\").find(\".buy\").val(\"В корзине\");\r\n});\r\n$(\"body\").on(\"click\", \".compare\", function () {\r\n    var productId = $(this).attr(\"data-productid\");\r\n    var token = $(\"#token\").val();\r\n    $.post(\"/add_to_compare\", {productId: productId, _token: token}).done(function (data) {\r\n        $(\"#com_count\").html(data.count);\r\n    });\r\n    $(this).val(\"В сравнении\");\r\n    $(this).parents(\".item\").find(\".compare\").val(\"В сравнении\");\r\n});\r\n$(\"body\").on(\"click\", \".video-review\", function (e) {\r\n    e.preventDefault();\r\n    var video = $(this).siblings(\"._video\").html();\r\n    $(\"#video\").find(\".video-container\").html(video);\r\n});\r\n$(\"#range\").ionRangeSlider({\r\n    type: \"double\",\r\n    min: 0,\r\n    max: maxPrice,\r\n    from: 0,\r\n    to: filtrPrice,\r\n    prefix: \"\",\r\n    step: 100,\r\n    onFinish: function (data) {\r\n        $(\"#filter\").change();\r\n    },\r\n    prettify: function (num) {\r\n        var endSign = \"\";\r\n        return (num) + \" грн.\" + endSign;\r\n    }\r\n});\r\nvar getParameterByName = function (name, href) {\r\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\r\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"), results = regex.exec(!!href ? href : location.search);\r\n    return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\r\n};\r\n$(\"#filter\").on(\"change\", filterProducts);\r\nsetTimeout(function () {\r\n    filterProducts(false);\r\n}, 100);\r\n$(\".orderBy\").change(function () {\r\n    var $this = this;\r\n    $(\"select.orderBy\").each(function (i, sel) {\r\n        sel.selectedIndex = $this.selectedIndex;\r\n        $(\".select-dropdown\").val(sel.options[sel.selectedIndex].innerHTML);\r\n    });\r\n    filterProducts(true);\r\n});\r\nfunction filterProducts(filcl, page) {\r\n    $(\"#isDirty\").val(1);\r\n    if (isNaN(page)) {\r\n        page = 1;\r\n    }\r\n    var data = $(\".orderBy\").serialize(), filters = $(\"#filter\");\r\n    if (filters.length > 0) {\r\n        data = filters.serialize();\r\n    }\r\n    if (!!getParameterByName(\"search\")) {\r\n        data += \"&search=\" + getParameterByName(\"search\");\r\n    }\r\n    if (filcl) {\r\n        data = data + \"&click=true\";\r\n    }\r\n    $.ajax({\r\n        url: location.href, method: \"GET\", cache: false, data: data + \"&page=\" + page, beforeSend: function () {\r\n            $(\"#products\").html(\"<div align='center'><img src='/frontend/images/loading.gif'></div>\");\r\n        }, success: function (response) {\r\n            $(\"#products\").html(response.products);\r\n            $(\"._pagination\").html(response.pagination);\r\n            initRating();\r\n        }\r\n    });\r\n}\r\n$(\"body\").on(\"click\", \"._pagination a\", function (event) {\r\n    event.preventDefault();\r\n    $(\"html, body\").animate({scrollTop: 0}, 0);\r\n    var href = $(this).attr(\"href\"), page = parseInt(getParameterByName(\"page\", href));\r\n    filterProducts(true, page);\r\n});\r\n$(\"#range\").change(function () {\r\n    return false;\r\n});\r\n$(\"#rating_3\").rating({\r\n    fx: \"full\",\r\n    image: \"/frontend/images/stars2.png\",\r\n    loader: \"/frontend/images/loading.gif\",\r\n    url: location.href,\r\n    type: \"GET\",\r\n    readOnly: !!$(\"#check\").val(),\r\n    callback: function (responce) {\r\n        this._data.val = Math.round(responce);\r\n        this.set();\r\n        this.vote_success.fadeOut(2000);\r\n    }\r\n});\r\nsetTimeout(function () {\r\n    $(\".compare-list\").each(function () {\r\n        var min_height = 0;\r\n        var parent = this;\r\n        $(parent).find(\".compare_product\").each(function () {\r\n            var height = $(this).outerHeight();\r\n            if (min_height <= height) {\r\n                min_height = height;\r\n            }\r\n        });\r\n        $(parent).find(\".compare_product\").each(function () {\r\n            $(this).height(min_height);\r\n        });\r\n    });\r\n}, 1000);"]}